{% extends "base.html" %}
{% load static %}

{% block content %}
<div id="contact" class="mt-5 pt-5">
        <h1 class="section-heading text-center">Find Us</h1>
            <div class="row ml-5 mr-5 mt-3">
                <div id="google-location" class="col-lg-6 col-md-6 col-sm-6 col-xs-12 border rounded-0"></div>
                <div class="col-lg-2 col-md-2 col-sm-1"></div>
                <div id="contact-address" class="col-lg-4 col-md-4 col-sm-5 col-xs-12 pt-3">
				    <b>Address:</b><br> 
                    <span class="pl-5">O'Connell Street 5,</span><br>
                    <span class="pl-5">Sligo, Co.Sligo</span><br> 
                    <span class="pl-5"> Ireland</span><br>
                    <b>Phone:</b> +353711234567 <br>
                    <b>Email:</b> info@baldmtn.ie <br>	
                </div>
            </div>
        <h1 class="section-heading text-center">Get in touch</h1>
        <form class="pt-3 pb-5" onsubmit="return sendMail(this);">
            <div class="form-row pb-3">
                <div class="col-md-6 col-lg-6 col-sm-12">
                    <input type="text" id="fname" class="form-control rounded-0" placeholder="First name">
                </div>
                <div class="col-md-6 col-lg-6 col-sm-12">
                    <input type="text" id="lname" class="form-control rounded-0" placeholder="Last name">
                </div>
            </div>
            <div class="form-group">
                <input type="text" id="email" class="form-control rounded-0" placeholder="Email">
            </div>
            <div class="form-group">
                <input type="text" id="subject" class="form-control rounded-0" placeholder="Subject">
            </div>
            <div class="form-group">
                <textarea id="message" class="form-control rounded-0" rows="7" placeholder="Message here..."></textarea>
            </div>
            <div>
                <input type="submit" value="Submit" class="form-submit border btn btn-lg rounded-0 text-uppercase py-2">
            </div>
        </form>
    </div>

{% block postloadjs %}
    <script src="{% static 'contact/js/google-maps.js' %}"></script>
    <script src="{% static 'contact/js/emailJs.js' %}"></script>
    
{% endblock %}
<script>
        //contact form linked to private email using EmailJs
        //variables that are used to clear the form after submission see below function(response)
        let firstNameInput = document.getElementById("fname");
        let secondNameInput = document.getElementById("lname");
        let emailInput = document.getElementById("email");
        let subjectInput = document.getElementById("subject");
        let messageInput = document.getElementById("message");
        //allows for the passing of parameters from contact form to the EmailJS service
        function sendMail(contactForm) {
            emailjs.send("gmail", "bald_mtn.", this {
                "fname": contactForm.firstname.value,
                "lname": contactForm.lastname.value,
                "email": contactForm.email.value,
                "subject": contactForm.subject.value,
                "message": contactForm.message.value,
            })
            //responses after the submission of form: SUCCESS / ERROR
            .then(
                    function (response) {
            //values that clear the contact form after successful submission of form
                        firstNameInput.value = '';
                        secondNameInput.value = '';
                        emailInput.value = '';
                        subjectInput.value = '';
                        messageInput.value = '';
                        console.log("SUCCESS", response);
                    },
                    function (error) {
                        console.log("ERROR", error);
                    }
                );
            return false;
        }
    </script>
    <!--Contact form linked to EmailJS-->
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js">
	</script>
	<script type="text/javascript">
		(function(){
            emailjs.init("user_dYXdGeorqYYUJK0lclK57");
        })();
	</script>
{% endblock%}